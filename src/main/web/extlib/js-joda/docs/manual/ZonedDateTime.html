<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | js-joda</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Immutable date and time library for JavaScript"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="js-joda"><meta property="twitter:description" content="Immutable date and time library for JavaScript"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/js-joda/js-joda"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/getting-started.html"><a href="manual/getting-started.html" data-ice="link">Getting started</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/getting-started.html"><a href="manual/getting-started.html#node" data-ice="link">Node</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/getting-started.html"><a href="manual/getting-started.html#browser" data-ice="link">Browser</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/getting-started.html"><a href="manual/getting-started.html#jsfiddle" data-ice="link">JSFiddle</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/usage.html"><a href="manual/usage.html" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/usage.html"><a href="manual/usage.html#method-naming-conventions" data-ice="link">Method naming conventions</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html" data-ice="link">LocalDate</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#create-a--code-localdate--code-" data-ice="link">Create a LocalDate</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#get-values-from--code-localdate--code-" data-ice="link">Get values from LocalDate</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#get-week-of-week-based-year--quarter-of-year--day-of-quarter" data-ice="link">Get week of week-based year, quarter of year, day of quarter</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#adding-to-and-subtracting-from-a--code-localdate--code-" data-ice="link">Adding to and subtracting from a LocalDate</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#alter-specific-fields-of-a-localdate" data-ice="link">Alter specific fields of a LocalDate</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#compare-one--code-localdate--code--with-another" data-ice="link">Compare one LocalDate with another</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#distance-on-the-timeline" data-ice="link">Distance on the timeline</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#converting-from-and-to-other-temporals" data-ice="link">Converting from and to other temporals</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDate.html"><a href="manual/LocalDate.html#adjust-a-date-to-another-date" data-ice="link">Adjust a date to another date</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html" data-ice="link">LocalTime</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#create-a--code-localtime--code--instance" data-ice="link">Create a LocalTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#get-values-from--code-localtime--code-" data-ice="link">Get values from LocalTime</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#adding-to--subtracting-from-a--code-localtime--code--instance" data-ice="link">Adding to/ subtracting from a LocalTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#alter-specific-fields-of-a--code-localtime--code--instance" data-ice="link">Alter specific fields of a LocalTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#truncate-a--code-localtime--code--instance" data-ice="link">Truncate a LocalTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#compare--code-localtime--code--instances" data-ice="link">Compare LocalTime instances</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#distance-between-times" data-ice="link">Distance between times</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalTime.html"><a href="manual/LocalTime.html#convert-a--code-localtime--code--from-a--code-moment--code--or-javascript--code-date--code-" data-ice="link">Convert a LocalTime from a moment or JavaScript Date</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html" data-ice="link">LocalDateTime</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#create-a--code-localdatetime--code--instance" data-ice="link">Create a LocalDateTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#get-values-from--code-localdatetime--code-" data-ice="link">Get values from LocalDateTime</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#adding-to-and-subtracting-from-a--code-localdatetime--code--instance" data-ice="link">Adding to and subtracting from a LocalDateTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#alter-specific-fields-of-a--code-localdatetime--code--instance" data-ice="link">Alter specific fields of a LocalDateTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#truncate-a--code-localdatetime--code--instance" data-ice="link">Truncate a LocalDateTime instance</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#compare--code-localdatetime--code--instances" data-ice="link">Compare LocalDateTime instances</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#distance-between-two--code-localdatetime--code--instances" data-ice="link">Distance between two LocalDateTime instances</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/LocalDateTime.html"><a href="manual/LocalDateTime.html#convert-from-a--code-moment--code--or-javascript--code-date--code-" data-ice="link">Convert from a moment or JavaScript Date</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/ZonedDateTime.html"><a href="manual/ZonedDateTime.html" data-ice="link">ZonedDateTime</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/ZonedDateTime.html"><a href="manual/ZonedDateTime.html#the--code-system--code--zone-id" data-ice="link">The SYSTEM zone ID</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/ZonedDateTime.html"><a href="manual/ZonedDateTime.html#working-with-time-zones" data-ice="link">Working with time zones</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/ZonedDateTime.html"><a href="manual/ZonedDateTime.html#create-a-zoneddatetime" data-ice="link">Create a ZonedDateTime</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/ZonedDateTime.html"><a href="manual/ZonedDateTime.html#switch-time-zones" data-ice="link">Switch time zones</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/ZonedDateTime.html"><a href="manual/ZonedDateTime.html#get-and-manipulate-values-from-a--code-zoneddatetime--code-" data-ice="link">Get and manipulate values from a ZonedDateTime</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/ZonedDateTime.html"><a href="manual/ZonedDateTime.html#calculate-values-across-daylight-savings-transitions" data-ice="link">Calculate values across daylight savings transitions</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/Period.html"><a href="manual/Period.html" data-ice="link">Period</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/Duration.html"><a href="manual/Duration.html" data-ice="link">Duration</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/formatting.html"><a href="manual/formatting.html" data-ice="link">Formatting</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/formatting.html"><a href="manual/formatting.html#formatting-with-locales" data-ice="link">Formatting with locales</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/formatting.html"><a href="manual/formatting.html#format-patterns" data-ice="link">Format patterns</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/customizing.html"><a href="manual/customizing.html" data-ice="link">Customizing js-joda</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customizing.html"><a href="manual/customizing.html#custom-temporal-adjuster" data-ice="link">Custom temporal adjuster</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customizing.html"><a href="manual/customizing.html#custom-temporal-fields-and-temporal-units" data-ice="link">Custom temporal fields and temporal units</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customizing.html"><a href="manual/customizing.html#custom-formatter-and-queries" data-ice="link">Custom formatter and queries</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="zoneddatetime">ZonedDateTime</h1><p>A <code>ZonedDateTime</code> represents a date-time with a <a href="https://en.wikipedia.org/wiki/UTC_offset">time offset</a> and/or a <a href="https://en.wikipedia.org/wiki/Time_zone">time zone</a> in the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> calendar system.</p>
<p>On its own, <code>ZonedDateTime</code> only supports specifying <strong>time offsets</strong> such as <code>UTC</code> or <code>UTC+02:00</code>, plus the <code>SYSTEM</code> time zone ID.</p>
<h3 id="the--code-system--code--zone-id">The <code>SYSTEM</code> zone ID</h3><p>The <code>SYSTEM</code> zone ID is a non-standard ID that is specific to <code>js-joda</code>. It represents the default time zone of the current JavaScript runtime. The JavaScript spec does not provide an API this; it only provides the system default time offset for a point in the timeline (<code>Date.prototype.getTimezoneOffset()</code>).</p>
<p>You should not exchange <code>ZonedDateTime</code> instances using the <code>SYSTEM</code> zone ID between JavaScript environments (e.g. between server and client, or between two servers). The time offset on another machine won&apos;t necessarily be the same as yours. Before sending a <code>ZonedDateTime</code> to someone else, convert it to a fixed offset:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// current time with default `SYSTEM`
ZonedDateTime.now().toString(); // e.g. 2016-03-18T12:38:23.561+01:00[SYSTEM]

// converted to a fixed time offset
ZonedDateTime.now()
  .withFixedOffsetZone()
  .toString(); // e.g. 2016-03-18T12:38:23.561+01:00</code>
</code></pre>
<h3 id="working-with-time-zones">Working with time zones</h3><p>A <strong>time zone</strong> and a <strong>time offset</strong> are <a href="https://en.wikipedia.org/wiki/UTC_offset#Time_zones_and_time_offsets">not the same thing</a>. Some timezones change from standard time to <a href="https://en.wikipedia.org/wiki/Daylight_saving_time">daylight savings time</a> and back every year:</p>
<ul>
<li>In the <code>Europe/Berlin</code> <em>time zone</em>, the <em>time offset</em> is <code>UTC+2</code> during the summer, and <code>UTC+1</code> during the rest of the year.</li>
<li>In the <code>Africa/Lagos</code> <em>time zone</em>, on the other hand, the <em>time offset</em> is <code>UTC+1</code> all year round.</li>
</ul>
<p>Calculations that might span time zones or daylight savings transitions need to reference the time zone, not just the offset.</p>
<p>The <a href="https://github.com/js-joda/js-joda-timezone">js-joda-timezone</a> package provides bindings to the the <a href="https://www.iana.org/time-zones">IANA tz database</a>, making <code>joda-js</code>&apos;s calculations time zone aware. The <code>tz</code> database uses zone names like <code>Africa/Bujumbura</code>, <code>America/New_York</code>, and <code>Europe/Lisbon</code> (see the <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">full list</a>).</p>
<p>To specify time zones using these names, you just need to <code>require</code> <a href="https://github.com/js-joda/js-joda-timezone">js-joda-timezone</a>.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var jsJoda = require(&quot;@js-joda/core&quot;);
require(&quot;@js-joda/timezone&quot;);

var zdt = ZonedDateTime.now(ZoneId.of(&quot;Europe/Paris&quot;));</code>
</code></pre>
<h3 id="create-a-zoneddatetime">Create a ZonedDateTime</h3><pre><code class="lang-javascript"><code class="source-code prettyprint">// get now with the default system time zone
ZonedDateTime.now().toString(); // e.g. 2016-03-18T12:38:23.561+01:00[SYSTEM]

// get now with the UTC time zone
ZonedDateTime.now(ZoneOffset.UTC).toString(); // e.g. 2016-03-18T11:38:23.561Z

// get now with a fixed offset time zone
ZonedDateTime.now(ZoneId.of(&quot;UTC-05:00&quot;)).toString(); // e.g. 2016-03-18T06:38:23.561-05:00[UTC-05:00]

// get now with a ZoneRegion (requires `js-joda-timezone`)
ZonedDateTime.now(ZoneId.of(&quot;Europe/Paris&quot;)).toString(); // e.g. 2017-02-04T17:01:15.846+01:00[Europe/Paris]

// parse a date time with a time zone ISO String
ZonedDateTime.parse(&quot;2016-03-18T12:38:23.561+01:00[SYSTEM]&quot;);
ZonedDateTime.parse(&quot;2016-03-18T12:38:23.561+01:00&quot;);
ZonedDateTime.parse(&quot;2016-03-18T11:38:23.561Z&quot;);
ZonedDateTime.parse(&quot;2016-03-18T06:38:23.561-05:00[UTC-05:00]&quot;);
ZonedDateTime.parse(&quot;2017-02-04T17:01:15.846+01:00[Europe/Paris]&quot;);

// create from a LocalDate(Time) (requires `js-joda-timezone`)
LocalDate.parse(&quot;2012-06-06&quot;)
  .atStartOfDay()
  .atZone(ZoneId.of(&quot;Europe/Paris&quot;)); // 2012-06-06T00:00+02:00[Europe/Paris]
ZonedDateTime.of(
  LocalDateTime.parse(&quot;2012-06-06T00:00&quot;),
  ZoneId.of(&quot;Europe/Paris&quot;)
); // 2012-06-06T00:00+02:00[Europe/Paris]
ZonedDateTime.of(
  LocalDate.parse(&quot;2012-06-06&quot;),
  LocalTime.MIDNIGHT,
  ZoneId.of(&quot;Europe/Paris&quot;)
); // 2012-06-06T00:00+02:00[Europe/Paris]

// create from an Instant
ZonedDateTime.ofInstant(Instant.now(), ZoneId.SYSTEM); // current system time</code>
</code></pre>
<h3 id="switch-time-zones">Switch time zones</h3><blockquote>
<p>These examples require <code>js-joda-timezone</code>.</p>
</blockquote>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var d = LocalDate.of(2016, 3, 18);
var zdt = d.atTime(LocalTime.NOON).atZone(ZoneId.of(&quot;America/New_York&quot;)); //2016-03-18T12:00-04:00[America/New_York]

// switch time zone retaining the local date-time if possible
zdt.withZoneSameLocal(ZoneId.of(&quot;Europe/Berlin&quot;)); // 2016-03-18T12:00+01:00[Europe/Berlin]

// switch time zone and retain the instant
zdt.withZoneSameInstant(ZoneId.of(&quot;Europe/Berlin&quot;)); // 2016-03-18T17:00+01:00[Europe/Berlin]</code>
</code></pre>
<h3 id="get-and-manipulate-values-from-a--code-zoneddatetime--code-">Get and manipulate values from a <code>ZonedDateTime</code></h3><p><code>ZonedDateTime</code> implements the same methods as <code>LocalDateTime</code> for getting or setting values. See <a href="#get-values-from-localdatetime">the examples above</a> for <code>LocalDateTime</code>.</p>
<h3 id="calculate-values-across-daylight-savings-transitions">Calculate values across daylight savings transitions</h3><p>When adding to or subtracting from a <code>ZonedDateTime</code> instance, the calculation is different depending on whether date or time units are passed.</p>
<ul>
<li>Addition/subtraction of <strong>date units</strong> are made on the <strong>local</strong> timeline.</li>
<li>Addition/subtraction of <strong>time units</strong> are made on the <strong>instant</strong> timeline.</li>
</ul>
<p>This example shows the difference for a daylight saving transition.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// assume the system default time zone is CET; we define a time as 2016-03-18 at 17:00 local time
var zdt = ZonedDateTime.parse(&quot;2016-03-18T17:00+01:00[Europe/Berlin]&quot;);

// adding a date unit of 2 weeks, crossing a daylight saving transition
zdt.plusWeeks(2); // 2016-04-01T17:00+02:00[Europe/Berlin] (still 17:00)

// adding a time unit of 2 weeks (2 * 7 * 24)
zdt.plusHours(2 * 7 * 24); // 2016-04-01T18:00+02:00[Europe/Berlin] (now 18:00)</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
